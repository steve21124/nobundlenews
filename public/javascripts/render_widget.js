function _NTW_0(A){return(typeof A!="undefined")}var _NTW_1=false;function _NTW_2(){var flag=false
/*@cc_on || true @*/
;_NTW_1=flag&&(document.implementation!=null)&&(document.implementation.hasFeature!=null)&&(window.XMLHttpRequest==null)}var _NTW_3={_v0:430,_v1:750,_v2:840,_v3:800,open:function(B,A){if(A){this._v4()}var G=this._v5()+this._v6();if(G+this._v0>this._v7()){G=this._v7()-this._v0}var E=this._v8();var D=new RegExp(/stories\/(\d+)/).exec(B);var F=(((D)&&(D.length>1))?(D[1]):"");var C="nt_review_"+F;if(C==window.name){C+="_"}window.open(B,C,"width="+this._v0+",height="+this._v1+",left="+G+",top="+E+",scrollbars=yes,resizable=yes,status=yes,directories=yes,location=yes,menubar=yes,toolbar=yes")},expand:function(){var C=this._v9("SocialNewsWinW")||this._v2;var B=this._v9("SocialNewsWinH")||this._v3;var A=(this._v5()+C)-this._v7();if(A>0){self.moveBy(-A,0)}self.resizeTo(C,B)},_v4:function(){_NTW_4("SocialNewsWinW",this._v6(),"","/");_NTW_4("SocialNewsWinH",this._v10(),"","/")},_v9:function(A){var B=_NTW_5(A);return B?parseInt(B):null},_v5:function(){return parseInt(window.screenX||window.screenLeft)},_v8:function(){return parseInt(window.screenY||window.screenTop)},_v6:function(){return parseInt(window.outerWidth||(document.documentElement.clientWidth+40))},_v10:function(){return parseInt(window.outerHeight||(document.documentElement.clientHeight+140))},_v7:function(){return parseInt(self.screen.width)}};function _NTW_4(C,E,A,G,D,F){var B=C+"="+escape(E)+((A)?"; expires="+A.toGMTString():"")+((G)?"; path="+G:"")+((D)?"; domain="+D:"")+((F)?"; secure":"");document.cookie=B}function _NTW_5(C){var B=document.cookie;var E=C+"=";var D=B.indexOf("; "+E);if(D==-1){D=B.indexOf(E);if(D!=0){return null}}else{D+=2}var A=document.cookie.indexOf(";",D);if(A==-1){A=B.length}return unescape(B.substring(D+E.length,A))}function _NTW_6(A,C,B){if(_NTW_5(A)){document.cookie=A+"="+((C)?"; path="+C:"")+((B)?"; domain="+B:"")+"; expires=Thu, 01-Jan-70 00:00:01 GMT"}}var _NTW_7="images/trustometer/";var _NTW_8=["January","February","March","April","May","June","July","August","September","October","November","December"];function _NTW_9(A,B){for(var C=0;C<A.length;C++){if(A[C]==B){return true}}return false}function _NTW_10(A,B){B=false;return((Math.round(A*2)/2).toPrecision(2)).replace(/\./,"-")+(B?".png":".gif")}function _NTW_11(A,D,B,C){if(!A||(A.length<=D)){return A}else{A=A.substring(0,D);var E=A.lastIndexOf(C);if(E>B){A=A.substring(0,E)}else{if(C!=" "){E=A.lastIndexOf(" ");if(E>B){A=A.substring(0,E)}}}return A+" ..."}}function _NTW_12(A){return A.split(/\s+/).length}function _NTW_13(B,A){var D=0;var C=B.split(/\s+/);for(i=0;i<C.length;i++){if(C[i].length>=A){D++}}return D}function _NTW_14(E,B){var D=_NTW_11(E,B,B-15," ");if(!D){return D}var F=_NTW_13(D,10);if(F>(B-1)/50){D=_NTW_11(E,B-10,B-25," ")}else{var A=_NTW_12(D);var C=D.length/A;if(C>=7.5){D=_NTW_11(E,B-10,B-25," ")}}return D}function _NTW_15(A,B){return(!B)?A:_NTW_14(A,B)}function _NTW_16(H,A){if(!A){return H}var G=H.split("/");var F=G[0];var C=G[1];var J=G[2];var B=C.replace(/^0/,"");var E=J.replace(/^0/,"");var I=_NTW_8[B-1];var D=I.substr(0,3);return A.replace(/y/,F).replace(/dd/,J).replace(/d/,E).replace(/mm/,C).replace(/m/,B).replace(/MM/,I).replace(/M/,D)}function _NTW_Widget(C,A,B){_NTW_2();var D=this;D._v11=C;D._v12=A;D._v13=B;D._v14="";D._v15()}_NTW_Widget.prototype={setWidth:function(A){if(A){this._v13.base_css.base_style+=";width:"+A}},setNumStories:function(A){if(A){this._v13.content.num_stories=A}},setTrackingCode:function(A){if(A){this._v13.content.tracking_code=A}},setHideElts:function(A){A.title=false;var B=!A.stars;if(B){A.rating=false}this._v13.content.show_stars=B;this._v16=A},setNewsHuntElts:function(A){this._v17=A},_v15:function(){var B=this;var C=B._v13.base_css;B._v18=0;if(typeof (B._v13.content.tracking_code)=="undefined"){B.setTrackingCode("wid")}var A=B._v12.site_base_url;if(A.charAt(A.length-1)!="/"){A+="/"}B._v19=A.replace(/www./,"").replace(/beta./,"").replace(/preview./,"");B._v20=(C.link_class||!_NTW_0(C.link_hover_style))?"":C.link_hover_style},_v21:function(B,A,E){var C=this;var D=C._v13.base_css;if(A){B.setAttribute((document.all?"className":"class"),A)}else{if(E){if(E.indexOf("url(")!=-1&&E.indexOf("url(http://"==-1)){E=E.replace("url(","url("+C._v19)}if(B.style.setAttribute){B.style.setAttribute("cssText",E);if((B.tagName=="A")&&C._v20){B.onmouseover=function(){this.style.setAttribute("cssText",E+";"+C._v20)};B.onmouseout=function(){this.style.setAttribute("cssText",E)}}}else{B.setAttribute("style",E);if((B.tagName=="A")&&C._v20){B.onmouseover=function(){this.setAttribute("style",E+";"+C._v20)};B.onmouseout=function(){this.setAttribute("style",E)}}}}else{if((B.tagName=="A")&&(D.link_style||D.link_class)){C._v21(B,D.link_class,D.link_style)}}}},_v22:function(D,B,C){var A=document.createElement(D);this._v21(A,B,C);return A},_v23:function(E,C,B,D){var A=this._v22("img",B,D);if(_NTW_1&&E.match(/\.png$/)){A.style.width=A.width+"px";A.style.height=A.height+"px";A.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+E+"', sizingMethod='scale')";A.src="x.gif"}else{A.src=E}A.setAttribute("alt",C);return A},_v24:function(H,G,I){var D="";var A="";var E=G.length;for(var F=0;F<E;F++){var C=G[F];var B=this._v22(C.elt,C.clazz,C.style);if(F==(E-1)){B=I(H,B,C)}if(!D){D=B}else{A.appendChild(B)}A=B}if(E==0){D=I(H,"",C)}return D},_v25:function(B,A){return this._v24(A,B,function(C,D){if(!D){D=document.createTextNode(C)}else{D.innerHTML=C}return D})},_v26:function(D,G,C,I,A,F,B){var E=this;var H=E._v13.base_css;return E._v24(C,D,function(J,L,M){if(!L){L=E._v22("a",H.link_class,H.link_style)}if((L.tagName!="A")&&!F){L.innerHTML=J}else{L.target=I;L.onclick=A;L.href=(!B&&M&&M.url)?M.url:G;var K=(!B&&M&&M.text)?M.text:J;if(typeof (K)=="object"){L.appendChild(K)}else{L.innerHTML=K}}return L})},_v27:function(B,A,C,D){var E=this;var F=E._v13.base_css.link_target;return E._v26(B,A,C,F,D,true,false)},_v28:function(A,B){if(B){if(B.substring(0,1)=="\n"){A.appendChild(document.createElement("br"));B=B.substring(1)}if(B){A.appendChild(document.createTextNode(B))}}},_v29:function(E,F,K,H,A,C){var I=this;var B=I._v22("span","","");if(F){if(K){var J=I._v13.content.png_stars;var D=I._v23(I._v19+_NTW_7+H+_NTW_10(F,J),F+" rating",I._v13.base_css.stars_img_class,I._v13.base_css.stars_img_style);var G=I._v22("span","","");G.innerHTML=" "+F+A;B.appendChild(D);B.appendChild(G)}else{B.innerHTML=F+A}}else{B.appendChild(document.createTextNode("No Rating"))}if(!E){E=B}else{if(E.tagName=="A"){E.href=C;E.target=I._v13.base_css.link_target}E.appendChild(B)}return E},_v30:function(A){return(_NTW_0(this._v16)&&this._v16[A])||((typeof _NTW_defaultHides!="undefined")&&_NTW_0(_NTW_defaultHides[A])&&_NTW_defaultHides[A]&&!(_NTW_0(this._v16)&&_NTW_0(this._v16[A])&&!this._v16[A]))},_v31:function(d,cond){return eval("d."+cond)},_v32:function(A,B){return B&&(!this._v31(A,B)||this._v30(B))},_v33:function(T,L,J){var I=this;var H=I._v13.content;var E=I._v13.base_css;var C=I._v19;var G=L.element;if(G.match(/review\./)){var W=G.replace("review.","");if(_NTW_0(T.review[W])&&!T.review[W]){return }}else{if(_NTW_0(T[G])&&!T[G]){return }}if(I._v32(T,L.if_present)){return }if(this._v30(G)){return }if((G=="see_reviews")&&I._v18){return }if(L.prefix&&!I._v32(T,L.prefix_if_present)){I._v28(J,L.prefix)}var A="";var X="";var B="";var V="";var N=I._v13.content.tracking_code;if(T&&_NTW_0(T.id)){X=C+"stories/"+T.id;A=X+"?ref="+N;B=X+"/toolbar?ref="+N;V=function(){var a=_NTW_3.open(B+"&popup=true");a.focus()}}var S="";var Z="";var F=!_NTW_0(L.dom)?[]:L.dom;switch(G){case"review.rating":B=C+"stories/"+T.id+"/reviews/"+T.review.id;Z=I._v24(T.review,F,function(a,b){return I._v29(b,a.rating,true,H.stars_dir,"",B)});break;case"review.see_it":B=C+"stories/"+T.id+"/reviews/"+T.review.id;Z=I._v27(F,B,"See Review &raquo;","");break;case"rating_nostars":Z=I._v24(T,F,function(a,b){return I._v29(b,(D==0)?0:a.rating,false,"","",A)});break;case"rating":Z=I._v24(T,F,function(b,d){var e=H.stars_dir;var c=1*b.num_reviews;if(c<(1*I._v12.min_reviews)){e=H.gray_stars_dir}var a=(c==0)?0:b.rating;return I._v29(d,a,H.show_stars,e,"",A)});break;case"source":var K=T.source;S=E.link_target;Z=K.is_public?I._v26(F,C+"sources/"+K.id,K.name,S,"",false,false):I._v25("",K.name);break;case"title":S=E.link_target;if(T.source&&T.source.framebuster){Z=I._v26(F,T.url,_NTW_15(T.title,H.title_max_length),"",V,true,true)}else{Z=I._v26(F,B,_NTW_15(T.title,H.title_max_length),S,"",true,true)}break;case"num_reviews":var D=T.num_reviews;var M=I._v12.min_reviews;var Q=(D==0)?"See&nbsp;Info":((D==1)?"See&nbsp;Review":((D<M)?"See&nbsp;Reviews":D+" Reviews"));Z=I._v27(F,A,Q+" &raquo;","");break;case"like_it":Z=I._v27(F,X+"/save?ref="+N,"Like","");break;case"see_reviews":Z=I._v27(F,A,"See&nbsp;Reviews","");break;case"review_it":S=E.link_target;if(T.source&&T.source.framebuster){Z=I._v26(F,T.url,"Review&nbsp;It","",V,true,false)}else{Z=I._v26(F,B+"&go=review","Review&nbsp;It",S,"",true,false)}break;case"source_name":case"title_prefix":case"listing_topic":case"listing_type":case"sources_type":Z=I._v27(F,T.listing_url,T[G],"");break;case"hdr_story_type":Z=I._v27(F,T.listing_url,T.hdr_story_type,"");break;case"newshunt_title":Z=I._v27(F,I._v17.url,I._v17.title,"");break;case"newshunt_desc":var U=I._v25(F,I._v17.description);var R=I._v27("",I._v17.url,"  Sign up","");var P=I._v25(""," to start reviewing.");Z=I._v22("div","","");Z.appendChild(U);Z.appendChild(R);Z.appendChild(P);break;case"more_stories":Z=I._v27(F,T.listing_url,"More &raquo;","");break;case"help":Z=I._v26(F,"javascript:void(0)","How we pick these","",function(){_NTW_3.open(C+"help/faq#how_we_pick_stories")},true,false);break;case"submit_story":Z=I._v27(F,C+"submit","Post a story","");break;case"get_widget":Z=I._v27(F,C+"widgets?url="+T.listing_url.substring(C.length-1).replace("#","/"),"Get this widget","");break;case"signup":Z=I._v27(F,C+"partners/feeds/widget","Sign up","");break;case"date":Z=I._v25(F,_NTW_16(T.date,H.date_format));break;case"review.note":Z=I._v25(F,_NTW_15(T.review.note,H.quote_max_length));break;case"review.comment":Z=I._v25(F,_NTW_15(T.review.comment,H.quote_max_length));break;case"review.links":if(T.review.links&&T.review.links.length>0){Z=I._v27(F,T.review.links[0].url,T.review.links[0].title,"");if(T.review.links&&T.review.links.length>1){J.appendChild(Z);if(L.suffix&&!I._v32(T,L.suffix_if_present)){I._v28(J,L.suffix)}if(L.prefix&&!I._v32(T,L.prefix_if_present)){I._v28(J,L.prefix)}Z=I._v27(F,T.review.links[1].url,T.review.links[1].title,"")}}break;case"quote":Z=I._v25(F,_NTW_15(T.quote,H.quote_max_length));break;case"submitted_by":case"last_reviewer":Z=I._v25(F,T[G].name);break;case"image":var Y=I._v23(C+L.source,"","","display:inline;float:none;border:none;");Z=I._v27(F,"",Y,"");break;default:var O=_NTW_0(T[G])?T[G]:G;Z=I._v24(O,F,function(a,b,c){if(!b){b=document.createTextNode(a)}else{if(b.tagName!="A"){b.innerHTML=a}else{b.href=(c&&c.url)?c.url:C;b.innerHTML=(c&&c.text)?c.text:a;b.target=E.link_target;if(!c.clazz&&!c.style){I._v21(b,E.link_class,E.link_style)}}}return b});break}if(Z){J.appendChild(Z)}if(L.suffix&&!I._v32(T,L.suffix_if_present)){I._v28(J,L.suffix)}},_v34:function(B,A,F){for(var C=0;C<A.length;C++){var D=A[C];if(D.element!="div_dom_tree"){this._v33(B,D,F)}else{var E=this._v22("div",D.clazz,D.style);this._v34(B,D.children,E);F.appendChild(E)}}},_v35:function(D,E,A,F){var B=this._v13;var C=this._v22("div",B.base_css[E+"_class"],B.base_css[E+"_style"]);if(F){F(C)}this._v34(A,B[E+"_format"],C);D.appendChild(C)},_v36:function(A){var C=this;var B=C._v22("a","","color:#222;font-family:arial,helvetica,sans-serif;font-size:11px;text-decoration:none;");B.href=C._v19;B.target=C._v13.base_css.link_target;B.appendChild(A);return B},_v37:function(){var G=this;var F=G._v13.content;var D=G._v13.base_css;var B=G._v19;var O=G._v12;var R=G._v22("div",D.base_class,D.base_style);var M=F.site_logo;if(M){if(typeof (O.local_site)!="undefined"&&O.local_site){M=M.replace(/logos\/socialnews-logo/,"logos/"+O.local_site+"-socialnews-logo")}R.appendChild(G._v36(G._v23(B+M,"SocialNews.com ","","display:inline;float:none;padding:5px;border:none;")))}var A=G._v22("div","","");if(F.header){G._v35(A,"header",O,"")}if(typeof (_NTW_access_denied)!="undefined"){var J=G._v22("div","","style:clear:both;padding:15px;color:black");J.innerHTML=_NTW_access_denied;A.appendChild(J)}else{var K=0;var I=G._v11;var C=I.length;var E=F.num_stories;for(var P=0;P<C;P++){if((K==E)||!I[P].id){break}var T=I[P];G._v18=((1*T.num_reviews)<(1*O.min_reviews))&&!T.source.rating;G._v35(A,"story",T,"");K++}if(C<E){var H='<br style="clear:both"/>'+((C==0)?"No stories":"Not enough stories");var S=D.link_class?(' class="'+D.link_class+'"'):(' style="'+D.link_style+'"');var N=O.listing_url;if(N.search("members.*picks")!=-1){H+=" were picked.<br/>";H+="To find out more about picks, check our <a"+S+' href="'+B+'help/faq/member#member_picks">FAQ</a>.'}else{var L=N.replace(/(most_trusted)(_\d+)?|recent_reviews/,"most_recent");H+=" were rated in this category recently!<br/>";H+="<div>To add more stories to this listing:</div>";H+='<ul style="margin:0"><li><a'+S+' href="'+B+'submit">Post a story</a></li><li><a'+S+' href="'+L+'">Rate stories</a></li></ul>'}var J=G._v22("div","","style:clear:both;padding:0 25px 15px 25px");J.innerHTML=H;A.appendChild(J)}}if(F.footer){G._v35(A,"footer",O,"")}R.appendChild(A);if(!M){var Q=G._v22("div","","background:#fff;text-align:left;padding:0 0 2px 4px;");Q.innerHTML='Reviews by <span style="font-weight:bold;">SocialNews</span>';R.appendChild(G._v36(Q))}G.rootDIV=R;return R},_v38:function(D){var A=document.getElementsByTagName("script");for(var C=0;C<A.length;C++){var B=A[C].src.replace(/http:\/\/www./,"http://").replace(/beta./,"").replace(/preview./,"").replace(this._v19,"").replace(/^\//,"");if((B=="js/"+D)||(B=="javascripts/"+D)){return A[C]}}return undefined},installOver:function(A){A.parentNode.replaceChild(this._v37(),A)},install:function(){var A="render_widget.js";this.installOver(this._v38(A))},refresh:function(){this.installOver(this.rootDIV)}};var _ntw_widget="";if((typeof _NTW_libraryMode=="undefined")||!_NTW_libraryMode){var w=new _NTW_Widget(_NTW_stories,_NTW_file_metadata,_NTW_widget_defaults);if(typeof _NTW_hideElts!="undefined"){w.setHideElts(_NTW_hideElts);_NTW_hideElts=undefined}if(typeof _NTW_newshunt!="undefined"){w.setNewsHuntElts(_NTW_newshunt);_NTW_newshunt=undefined}if(typeof _NTW_width!="undefined"){w.setWidth(_NTW_width);_NTW_width=undefined}if(typeof _NTW_numStories!="undefined"){w.setNumStories(_NTW_numStories);_NTW_numStories=undefined}if(typeof _NTW_trackingCode!="undefined"){w.setTrackingCode(_NTW_trackingCode);_NTW_trackingCode=undefined}w.install();_ntw_widget=w};
